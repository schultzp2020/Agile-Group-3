(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[720],{4669:function(e,t,n){"use strict";n.r(t),n.d(t,{SchedulerPage:function(){return d},default:function(){return h}});var r=n(2809);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,c,u=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(u.push(r.value),!t||u.length!==t);o=!0);}catch(a){l=!0,c=a}finally{try{o||null==n.return||n.return()}finally{if(l)throw c}}return u}}(e,t)||function(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o=n(9869),l=n(7294),a=n(5893);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(){var e=(0,l.useState)([]),t=e[0],n=e[1],r=(0,l.useState)([]),c=r[0],i=r[1],d=(0,l.useState)([]),h=d[0],m=d[1];(0,l.useEffect)((function(){(0,o.gS)().then((function(e){n((function(){return e})),(0,o.ZP)().then((function(t){i((function(){return t}));var n=f(t,e);m((function(){return n}))}))}))}),[]);var p=function(e){var r=u(e.target.value.split("-").map((function(e){return parseInt(e)})),2),l=r[0],a=r[1];-1===a?(0,o.$U)(l).then():(0,o._R)(l,a).then();var i=t.map((function(e){return e.courseId===l?s(s({},e),{},{si:a}):e}));n((function(){return i}));var d=f(c,i);m((function(){return d}))};return(0,a.jsxs)("div",{className:"bg-blue-800 p-4 h-screen",children:[(0,a.jsx)("h1",{className:"text-center p-2 text-2xl border-b-2 bg-blue-900 flex-center border-2 border-black rounded-lg text-blue-200",children:"Scheduler - Weekly Schedule"}),(0,a.jsx)("p",{className:"text-lg text-blue-200 text-center m-2",children:"Select SI's for class hours."}),(0,a.jsx)("div",{className:"overflow-auto my-4 flex",children:t.map((function(e){var t,n;return(0,a.jsxs)("div",{className:"border-2 border-black rounded p-4 m-2 bg-blue-900 flex flex-col justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between w-60",children:[(0,a.jsx)("p",{className:"text-lg text-blue-200 p-2",children:e.name}),(0,a.jsx)("p",{className:"text-lg text-blue-200 p-2",children:e.time})]}),(0,a.jsx)("div",{className:"p-2 my-2 border-2 border-black rounded bg-blue-800 divide-y divide-black",children:e.days.map((function(t){return(0,a.jsx)("p",{className:"text-lg text-blue-200 text-center",children:t},"".concat(e.courseId,"-").concat(t))}))})]}),(0,a.jsxs)("div",{className:"mb-6 flex flex-col items-center",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("h1",{className:"text-blue-200 font-bold pr-2",children:"Current SI:"}),(0,a.jsx)("p",{className:"text-blue-200 mb-1",children:null===(t=c.find((function(t){return t.studentId===e.si})))||void 0===t?void 0:t.name})]}),(0,a.jsx)("label",{className:"text-blue-200 font-bold mb-1",children:"Select SI:"}),(0,a.jsxs)("select",{className:"bg-blue-200 border border-blue-900 focus:bg-white hover:border-blue-500 px-20 py-2 rounded shadow leading-tight focus:outline-none focus:shadow-outline",value:"".concat(e.courseId,"-").concat((null===(n=c.find((function(t){return t.studentId===e.si})))||void 0===n?void 0:n.studentId)||-1),onChange:p,children:[(0,a.jsx)("option",{value:"".concat(e.courseId,"-").concat(-1)}),b(h,e).map((function(t){return(0,a.jsx)("option",{value:"".concat(e.courseId,"-").concat(t.studentId),children:t.name},"".concat(e.courseId,"-").concat(t.studentId))}))]})]})]},e.courseId)}))})]})};d.displayName="SchedulerPage";var f=function(e,t){return e.filter((function(e){var n=e.studentId;return!t.some((function(e){var t=e.si;return n===t}))}))},b=function(e,t){return e.filter((function(e){return!e.conflicts.some((function(e){return t.days.some((function(n){return e.day===n&&e.time===t.time}))}))}))},h=d},7548:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/scheduler",function(){return n(4669)}])}},function(e){e.O(0,[869,774,888,179],(function(){return t=7548,e(e.s=t);var t}));var t=e.O();_N_E=t}]);